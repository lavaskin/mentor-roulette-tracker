<p-dialog
	modal="true"
	[(visible)]="visible"
	(visibleChange)="visibleChange.emit($event)"
	[header]="isNew ? 'Add New Duty' : 'Edit Duty'">

	@if (duty != null) {
		<div class="flex flex-col gap-4">
			<input
				type="text"
				pInputText
				[(ngModel)]="duty.name"
				placeholder="Duty Name" />

			<input
				type="number"
				pInputText
				[(ngModel)]="duty.levelRequirement"
				placeholder="Level Requirement" />

				<p-select
					[options]="dutyTypes"
					[(ngModel)]="duty.dutyType"
					placeholder="Duty Type" />

				 <p-select
					[options]="expansions"
					[(ngModel)]="duty.expansion"
					placeholder="Expansion" />
		</div>

		<div class="mt-4 flex justify-end gap-4">
			<button
				pButton
				label="Cancel"
				icon="pi pi-times"
				size="small"
				class="p-button-secondary"
				(click)="visibleChange.emit(false); visible = false"></button>
			
			<button
				pButton
				label="Save"
				icon="pi pi-check"
				size="small"
				[class.p-button-loading]="isLoading"
				(click)="onSave()"></button>
		</div>
	}
</p-dialog>
